一、vim模式介绍
1.普通模式(Normal mode)
在普通模式中，用的编辑器命令，比如移动光标，删除文本等等。
在普通模式中，有很多方法可以进入插入模式。比较普通的方式是按a（append／追加）键或者i（insert／插入）键。

2.插入模式(Insert mode)
在这个模式中，大多数按键都会向文本缓冲中插入文本。
在插入模式中，可以按ESC键回到普通模式

3.可视模式(Visual mode)
这个模式与普通模式比较相似。但是移动命令会扩大高亮的文本区域。但是移动命令会扩大高亮的文本区域。高亮区域可以是字符、行或者是一块文本。当执行一个非移动命令时，命令会被执行到这块高亮的区域上。

4.选择模式(Select mode)
这个模式和无模式编辑器的行为比较相似（Windows标准文本控件的方式）。这个模式中，可以用鼠标或者光标键高亮选择文本，不过输入任何字符的话，Vim会用这个字符替换选择的高亮文本块，并且自动进入插入模式。

5.命令行模式(Command line mode)
在命令行模式中可以输入会被解释成并执行的文本。例如执行命令（:键），搜索（/和?键）或者过滤命令（!键）。在命令执行之后，Vim返回到命令行模式之前的模式，通常是普通模式。

6.Ex模式(Ex mode)
这和命令行模式比较相似，在使用:visual命令离开Ex模式前，可以一次执行多条命令。

二、基本操作
1.三种常用模式的切换
vim启动进入普通模式，处于插入模式或命令行模式时只需要按Esc或者Ctrl+[(这在vim课程环境中不管用)即可进入普通模式。普通模式中按i（插入）或a（附加）键都可以进入插入模式，普通模式中按:进入命令行模式。命令行模式中输入wq回车后保存并退出vim。
进入vim

2.使用vim命令进入vim界面
$ vim [file]

3.游标移动
按Esc进入普通模式，在该模式下使用方向键或者h,j,k,l键可以移动游标。
按键 说明
h 左
l 右（小写L）
j 下
k 上
w 移动到下一个单词
b 移动到上一个单词

4.进入插入模式
在普通模式下使用下面的键将进入插入模式，并可以从相应的位置开始输入
命令 说明
i 在当前光标处进行编辑
I 在行首插入
A 在行末插入
a 在光标后插入编辑
o 在当前行后插入一个新行
O 在当前行前插入一个新行
cw 替换从光标所在位置后到一个单词结尾的字

5.保存文档
命令行模式下保存文档
从普通模式输入:进入命令行模式，输入w回车，保存文档。输入:w 文件名可以将文档另存为其他文件名或存到其它路径下

6.退出vim
命令行模式下退出vim
从普通模式输入:进入命令行模式，输入wq回车，保存并退出编辑
以下为其它几种退出方式：
命令 说明
:q! 强制退出，不保存
:q 退出
:wq! 强制保存并退出
:w <文件路径> 另存为
:saveas 文件路径 另存为
:x 保存并退出
:wq 保存并退出
---
普通模式下退出vim
普通模式下输入Shift+zz即可保存退出vim

7.删除文本
普通模式下删除vim文本信息
命令 说明
x 删除游标所在的字符
X 删除游标所在前一个字符
Delete 同x
dd 删除整行
dw 删除一个单词（不适用中文）
d$或D 删除至行尾
d^ 删除至行首
dG 删除到文档结尾处
d1G 删至文档首部
除此之外，你还可以在命令之前加上数字，表示一次删除多行，如：
2dd表示一次删除2行

三、文档编辑
1.vim重复命令
重复执行上次命令
在普通模式下.(小数点)表示重复上一次的命令操作
---
执行指定次数相同的命令
进入普通模式输入N，N表示重复后面的次数

2.游标的快速跳转
行间跳转
命令 说明
nG(n Shift+g) 游标移动到第 n 行(如果默认没有显示行号，请先进入命令模式，输入:set nu以显示行号)
gg 游标移动到到第一行
G(Shift+g) 到最后一行
你在完成依次跳转后，可以使用Ctrl+o快速回到上一次(跳转前)光标所在位置,
---
行内跳转
普通模式下使用下列命令在行内按照单词为单位进行跳转
命令 说明
w 到下一个单词的开头
e 到下一个单词的结尾
b 到前一个单词的开头
ge 到前一个单词的结尾
0或^ 到行头
$ 到行尾
f<字母> 向后搜索<字母>并跳转到第一个匹配的位置(非常实用)
F<字母> 向前搜索<字母>并跳转到第一个匹配的位置
t<字母> 向后搜索<字母>并跳转到第一个匹配位置之前的一个字母(不常用)
T<字母> 向前搜索<字母>并跳转到第一个匹配位置之后的一个字母(不常用)

3.复制粘贴和剪切
复制及粘贴文本
普通模式中使用y复制
普通模式中，yy复制游标所在的整行（3yy表示复制3行）
普通模式中，y^ 复制至行首，或y0。不含光标所在处字符。
普通模式中，y$ 复制至行尾。含光所在处字符。
普通模式中，yw 复制一个单词。
普通模式中，y2w 复制两个单词。
普通模式中，yG 复制至文本末。
普通模式中，y1G 复制至文本开头。
普通模式中使用p粘贴
普通模式中，p(小写)代表粘贴至光标后（下）
普通模式中，P(大写)代表粘贴至光标前（上）
---
剪切及粘贴
其实前面讲得dd删除命令就是剪切，你每次dd删除文档内容后，便可以使用p来粘贴

四、查找替换
1.字符的替换及撤销(Undo操作)
替换和撤销(Undo)命令
命令 说明
r+<待替换字母> 将游标所在字母替换为指定字母
R 连续替换，直到按下Esc
cc 替换整行，即删除游标所在行，并进入插入模式
cw 替换一个单词，即删除一个单词，并进入插入模式
C(大写) 替换游标以后至行末
~ 反转游标所在字母大小写
u{n} 撤销一次或n次操作
U(大写) 撤销当前行的所有修改
Ctrl+r redo，即撤销undo的操作

2.快速缩进
（1）使用命令进行快速调整缩进操作
普通模式下输入15G，跳转到15行
普通模式下输入>> 整行将向右缩进（使用，用于格式化代码超爽）
普通模式下输入<< 整行向左回退
普通模式下输入:进入命令行模式下对shiftwidth值进行设置可以控制缩进和回退的字符数
（2）shiftwidth命令
获取目前的设定值
:set shiftwidth?
设置缩进为10个字符
:set shiftwidth=10
（3）调整文本位置
输入:ce(center)命令使本行内容居中
:ce
命令行模式下输入:ri(right)命令使本行文本靠右
:ri
命令行模式下输入:le(left)命令使本行内容靠左
:le

3.查找
（1）查找
普通模式下输入/然后键入需要查找的字符串 按回车后就会进行查找。 ？与/功能相同，
只不过？是向上而/是向下查找。 进入查找之后，输入n和N可以继续查找 n表示继续查找，N反向查找
（2）高级查找
普通模式下输入\*寻找游标所在处的单词 普通模式下输入\#同上，但 \# 是向前（上）找，\*则是向后（下）找 
普通模式下输入g\*同\* ，但部分符合该单词即可 普通模式下输入g\#同\# ，但部分符合该单词即可
 
五、高级功能
1.多文件编辑
（1）使用vim编辑多个文件
编辑多个文件有两种形式，一种是在进入vim前使用的参数就是多个文件。另一种就是进入vim后再编辑其他的文件。 
同时创建两个新文件并编辑。
$ vim 1.txt 2.txt
默认进入1.txt文件的编辑界面
命令行模式下输入:n编辑2.txt文件，可以加!即:n!强制切换，之前一个文件的输入没有保存，仅仅切换到另一个文件
命令行模式下输入:N编辑1.txt文件，可以加!即:N!强制切换，之前文件内的输入没有保存，仅仅是切换到另一个文件

（2）进入vim后打开新文件
命令行模式下输入:e 3.txt 打开新文件3.txt
命令行模式下输入:e# 回到前一个文件
命令行模式下输入:ls可以列出以前编辑过的文档
命令行模式下输入:b 2.txt（或者编号）可以直接进入文件2.txt编辑
命令行模式下输入:bd 2.txt（或者编号）可以删除以前编辑过的列表中的文件项目
命令行模式下输入:e! 4.txt，新打开文件4.txt，放弃正在编辑的文件
命令行模式下输入:f 显示正在编辑的文件名
命令行模式下输入:f new.txt，改变正在编辑的文件名字为new.txt

（3）恢复文件
如果因为断电等原因造成文档没有保存，可以采用恢复方式，vim -r进入文档后，输入:ewcover 1.txt来恢复

2.可视模式
可视模式命令简介
在普通模式下输入v（小写），进入字符选择模式，就可以移动光标，光标走过的地方就会选取。再次按下v会后就会取消选取。
在普通模式下输入Shift+v（小写），进入行选择模式，按下V之后就会把整行选取，您可以上下移动光标选更多的行，同样，再按一次Shift+v就可以取消选取。
在普通模式下输入 Ctrl+v（小写），这是区域选择模式，可以进行矩形区域选择，再按一次Ctrl+v取消选取。
在可视模式下输入d删除选取区域内容
在可视模式下输入y复制选取区域内容

3.视窗操作
视窗操作简介
打开方法
输入:new 打开一个新的vim视窗
命令行模式下输入:sp 1.txt 打开新的横向视窗来编辑1.txt
命令行模式下输入:vsp 2.txt 打开新的纵向视窗来编辑1.txt
普通模式下Ctrl-w s 将当前窗口分割成两个水平的窗口
普通模式下Ctrl-w v 将当前窗口分割成两个垂直的窗口
普通模式下Ctrl-w q 即 :q 结束分割出来的视窗。如果在新视窗中有输入需要使用强制符！即:q!
普通模式下Ctrl-w o 打开一个视窗并且隐藏之前的所有视窗
普通模式下Ctrl-w j 移至下面视窗
普通模式下Ctrl-w k 移至上面视窗
普通模式下Ctrl-w h 移至左边视窗
普通模式下Ctrl-w l 移至右边视窗
普通模式下Ctrl-w J 将当前视窗移至下面
普通模式下Ctrl-w K 将当前视窗移至上面
普通模式下Ctrl-w H 将当前视窗移至左边
普通模式下Ctrl-w L 将当前视窗移至右边
普通模式下Ctrl-w - 减小视窗的高度
普通模式下Ctrl-w + 增加视窗的高度

4.文档加密
创建加密文档
$ vim -x file1
---
在vim执行外部命令
在命令行模式中输入!可以执行外部的shell命令
:!ls 用于显示当前目录的内容
:!rm FILENAME用于删除名为 FILENAME 的文件
:w FILENAME可将当前 VIM 中正在编辑的文件另存为 FILENAME 文件

5.功能设定
（1）获取目前的设定
命令行模式下输入:set或者:se显示所有修改过的配置
命令行模式下输入:set all 显示所有的设定值
命令行模式下输入:set option? 显示option的设定值
命令行模式下输入:set nooption 取消当期设定值
（2）set功能的说明
命令行模式下输入:set autoindent(ai) 设置自动缩进
命令行模式下输入:set autowrite(aw) 设置自动存档，默认未打开
命令行模式下输入:set background=dark或light，设置背景风格
命令行模式下输入:set backup(bk) 设置自动备份，默认未打开
命令行模式下输入: set cindent(cin) 设置C语言风格缩进