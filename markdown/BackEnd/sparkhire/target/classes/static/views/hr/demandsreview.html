<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:replace="template/hr/header :: header"></div>
<link rel="stylesheet" href="" th:href="@{/assets/css/hr/index.css}"></link>
<link rel="stylesheet" href="" th:href="@{/assets/css/hr/employeemanager.css}"></link>

<link rel="stylesheet" href="" th:href="@{/assets/plugin/jquery.spinner/bootstrap-spinner.min.css}"></link>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper  skin-blue-light">

  <div th:replace="template/hr/nav :: nav"></div>
  
  <div th:replace="template/hr/sidebar :: sidebar"></div>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        HR Management
        <small></small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Dashboard</li>
      </ol>
    </section>
	
    <!-- Main content -->
    <section class="content">
    

    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->
	
	
	

<div th:replace="template/hr/scripts :: scripts"></div>
<script type="text/javascript" src="" th:src="@{/assets/js/util/json.js}"></script>
<script type="text/javascript" src="" th:src="@{/assets/plugin/jquery.spinner/jquery.spinner.min.js}"></script>
<script type="text/javascript">
function load(){
	var departments = getJson("./loaddepartments");
	var cont ="";
	for(var dep in departments){
		var demands = getJson("./loaddemandsbydepartment?department="+departments[dep]);
		cont = cont + "<div class='panel panel-primary'><div class='panel-heading'>Department: "
			+ departments[dep] + " <button class='btn btn-success' onclick='alert(\'approve\')'> Approve All</button>"
			+ "</div><div class='panel-body'><table class='table table-striped'><thead><tr><th>Job</th>"
			+ "<th>Number</th><th>Illustration</th></tr></thead><tbody>"
		for(var post in demands){
			cont = cont + "<tr><td style='width:20%'>" + demands[post]+"</td>"
			            + "<td style='width:10%'><div data-trigger='spinner' class='input-group'>" 
						+ "<span class='input-group-btn'><button type='button' class='btn spinBtn' data-spin='down'>-</button></span>" 
						+ "<input type='text' data-ruler='quantity' data-min='0' class='form-control' value='" + 1 + "'>"
						+ "<span class='input-group-btn'><button type='button' class='btn spinBtn' data-spin='up'>+</button></span></div></td>"
			            + "<td style='width:35%'>" + demands[post] + "</td>"
			            + "<td style='width:35%;float:right'><button class='btn btn-success'>Approve</button>"
			            + "<button class='btn btn-danger'>Reject</button></td></tr>"; 
		}
		cont += "</tbody></table></div></div>";
	}
	$(".content").html(cont);
	$("td,th").addClass("text-center");
}
load();
</script>
</body>
</html>
