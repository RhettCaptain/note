<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="../js/header.js"></script>
<script src="../js/util.js"></script>
<title>NurseHub</title>
<script>
var color = ['','btn-primary','btn-success','btn-info','btn-warning','btn-danger'];
var modalBtn = "";
var which = "recomend";

function recommend(){
	$("#recommend").show();
	$("#shiftPrefMin").hide();
	$("#shiftPrefAvg").hide();
	$("#workTimeLong").hide();
	$("#workTimeShort").hide();
	$("#workdayPrefMin").hide();
	$("#workdayPrefAvg").hide();
	which = "recommend";
}
function shiftPrefMin(){
	$("#recommend").hide();
	$("#shiftPrefMin").show();
	$("#shiftPrefAvg").hide();
	$("#workTimeLong").hide();
	$("#workTimeShort").hide();
	$("#workdayPrefMin").hide();
	$("#workdayPrefAvg").hide();
	which = "shiftPrefMin";
}
function shiftPrefAvg(){
	$("#recommend").hide();
	$("#shiftPrefMin").hide();
	$("#shiftPrefAvg").show();
	$("#workTimeLong").hide();
	$("#workTimeShort").hide();
	$("#workdayPrefMin").hide();
	$("#workdayPrefAvg").hide();
	which = "shiftPrefAvg";
}
function workTimeLong(){
	$("#recommend").hide();
	$("#shiftPrefMin").hide();
	$("#shiftPrefAvg").hide();
	$("#workTimeLong").show();
	$("#workTimeShort").hide();
	$("#workdayPrefMin").hide();
	$("#workdayPrefAvg").hide();
	which = "workTimeLong";
}
function workTimeShort(){
	$("#recommend").hide();
	$("#shiftPrefMin").hide();
	$("#shiftPrefAvg").hide();
	$("#workTimeLong").hide();
	$("#workTimeShort").show();
	$("#workdayPrefMin").hide();
	$("#workdayPrefAvg").hide();
	which = "shiftPrefAvg";
}
function workdayPrefMin(){
	$("#recommend").hide();
	$("#shiftPrefMin").hide();
	$("#shiftPrefAvg").hide();
	$("#workTimeLong").hide();
	$("#workTimeShort").hide();
	$("#workdayPrefMin").show();
	$("#workdayPrefAvg").hide();
	which = "workdayPrefMin";
}
function workdayPrefAvg(){
	$("#recommend").hide();
	$("#shiftPrefMin").hide();
	$("#shiftPrefAvg").hide();
	$("#workTimeLong").hide();
	$("#workTimeShort").hide();
	$("#workdayPrefMin").hide();
	$("#workdayPrefAvg").show();
	which = "workdayPrefAvg";
}


function showDemand(week,whichA){
	var hide = "."+whichA +" .demand";
	$(hide).hide();
	var show = hide + "." + week;
	$(show).show();
}

function generateRosters(){
	getJson("/admin/generateRosters");
}

function loadNewRosterReport(){
	var res= getJson("/admin/loadNewRosterReport");
	
	var recArr = new Array();
	var spmArr = new Array();
	var spaArr = new Array();
	var wtlArr = new Array();
	var wtsArr = new Array();
	var wpmArr = new Array();
	var wpaArr = new Array();
	
	var idx=0;
	for(i in res[0]){
		recArr[idx] = res[0][i];
		idx = idx+1;
	}
	idx = 0;
	for(i in res[1]){
		spmArr[idx] = res[1][i];
		idx = idx+1;
	}
	idx = 0;
	for(i in res[2]){
		spaArr[idx] = res[2][i];
		idx = idx+1;
	}
	idx = 0;
	for(i in res[3]){
		wtlArr[idx] = res[3][i];
		idx = idx+1;
	}
	idx = 0;
	for(i in res[4]){
		wtsArr[idx] = res[4][i];
		idx = idx+1;
	}
	idx = 0;
	for(i in res[5]){
		wpmArr[idx] = res[5][i];
		idx = idx+1;
	}
	idx = 0;
	for(i in res[6]){
		wpaArr[idx] = res[6][i];
		idx = idx+1;
	}
	
	$(".recommend .timeLimitOk").text("Time Limit Ok: " + recArr[0]);
	$(".recommend .demandOk").text("  Demand Ok: " + recArr[1]);
	$(".recommend .compScore").text("Comprehensive Score: " + recArr[2]);
	
	$(".shiftPrefMin .timeLimitOk").text("Time Limit Ok: " + spmArr[0]);
	$(".shiftPrefMin .demandOk").text("  Demand Ok: " + spmArr[1]);
	$(".shiftPrefMin .compScore").text("Comprehensive Score: " + spmArr[2]);
	
	$(".shiftPrefAvg .timeLimitOk").text("Time Limit Ok: " + spaArr[0]);
	$(".shiftPrefAvg .demandOk").text("  Demand Ok: " + spaArr[1]);
	$(".shiftPrefAvg .compScore").text("Comprehensive Score: " + spaArr[2]);
	
	$(".workTimeLong .timeLimitOk").text("Time Limit Ok: " + wtlArr[0]);
	$(".workTimeLong .demandOk").text("  Demand Ok: " + wtlArr[1]);
	$(".workTimeLong .compScore").text("Comprehensive Score: " + wtlArr[2]);
	
	$(".workTimeShort .timeLimitOk").text("Time Limit Ok: " + wtsArr[0]);
	$(".workTimeShort .demandOk").text("  Demand Ok: " + wtsArr[1]);
	$(".workTimeShort .compScore").text("Comprehensive Score: " + wtsArr[2]);
	
	$(".workdayPrefMin .timeLimitOk").text("Time Limit Ok: " + spmArr[0]);
	$(".workdayPrefMin .demandOk").text("  Demand Ok: " + spmArr[1]);
	$(".workdayPrefMin .compScore").text("Comprehensive Score: " + spmArr[2]);
	
	$(".workdayPrefAvg .timeLimitOk").text("Time Limit Ok: " + wpaArr[0]);
	$(".workdayPrefAvg .demandOk").text("  Demand Ok: " + wpaArr[1]);
	$(".workdayPrefAvg .compScore").text("Comprehensive Score: " + wpaArr[2]);
	
	
	
	for(i=0;i<9;i++){
		$(".recommend .prefTd").eq(i).text(recArr[i+3]);
		$(".shiftPrefMin .prefTd").eq(i).text(spmArr[i+3]);
		$(".shiftPrefAvg .prefTd").eq(i).text(spaArr[i+3]);
		$(".workTimeLong .prefTd").eq(i).text(wtlArr[i+3]);
		$(".workTimeShort .prefTd").eq(i).text(wtsArr[i+3]);
		$(".workdayPrefMin .prefTd").eq(i).text(wpmArr[i+3]);
		$(".workdayPrefAvg .prefTd").eq(i).text(wpaArr[i+3]);
	}
	
	var recDemands = recArr[12];
	var spmDemands = spmArr[12];
	var spaDemands = spaArr[12];
	var wtlDemands = wtlArr[12];
	var wtsDemands = wtsArr[12];
	var wpmDemands = wpmArr[12];
	var wpaDemands = wpaArr[12];
	
	var i = 0;
	for(i=0;i<7;i++){
		loadTmpFunc(recDemands,".recommend",i);
		loadTmpFunc(spmDemands,".shiftPrefMin",i);
		loadTmpFunc(spaDemands,".shiftPrefAvg",i);
		loadTmpFunc(wtlDemands,".workTimeLong",i);
		loadTmpFunc(wtsDemands,".workTimeShort",i);
		loadTmpFunc(wpmDemands,".workdayPrefMin",i);
		loadTmpFunc(wpaDemands,".workdayPrefAvg",i);
	}
}


function loadTmpFunc(demand,className,i){
	var cont = "";
	for(sh in demand[i]){
		cont = cont + "<tr><td>" + demand[i][sh].id + "</td>";
		cont = cont + "<td>" + demand[i][sh].name + "</td>";
		var arr = new Array();
		var idx=0;
		for(j in demand[i][sh]){
			arr[idx] = demand[i][sh][j];
			idx = idx+1;
		}
		for(j=2;j<7;j++){
			cont = cont + "<td>" + arr[j] + "(" + arr[j+5] + ")</td>";
		}
		cont = cont + "</tr>";
	}
	$(className + " .demand").eq(i).html(cont);
}


function showHead(){
	var date = new Date();
	var day = date.getDay();
	if(day==0){
		day = 7;
	}
	date.setDate(date.getDate()-day+7);
	for(i=0;i<7;i++){
		date.setDate(date.getDate()+1);
		var str = showDay(date.getDay()) + "(" + (date.getMonth()+1) + "/" + date.getDate() +")";
		$(".day").eq(i).text(str);
		$(".day").eq(i+7).text(str);
		$(".day").eq(i+14).text(str);
		$(".day").eq(i+21).text(str);
		$(".day").eq(i+28).text(str);
		$(".day").eq(i+35).text(str);
		$(".day").eq(i+42).text(str);
	}
}

function strNum(str){
	if(str==null || str==""){
		return 0;
	}
	var len = str.length;
	var num=0;
	for(var idx=0;idx<len;idx++){
		num = num + str.charCodeAt(idx);
	}
	return num%6;
}

function getNewRoster(which){
	var url = "/admin/getNewRoster/"+which;
	return getJson(url);
}

function fillRoster(){
	fillTmpFunc("recommend",$("#recTbody"));
	fillTmpFunc("shiftPrefMin",$("#spmTbody"));
	fillTmpFunc("shiftPrefAvg",$("#spaTbody"));
	fillTmpFunc("workTimeLong",$("#wtlTbody"));
	fillTmpFunc("workTimeShort",$("#wtsTbody"));
	fillTmpFunc("workdayPrefMin",$("#wpmTbody"));
	fillTmpFunc("workdayPrefAvg",$("#wpaTbody"));
}

function fillTmpFunc(which,tbody){

	var ros = getNewRoster(which);
	var cont = "";

	for(i in ros){
		cont = cont + "<tr>";
		for (j in ros[i]){
			var preStr ="";
			if(j=="monId" || j=="tueId" || j=="wedId" || j=="thuId"
				|| j=="friId" || j=="satId" || j=="sunId"){
				if(j=="monId"){cont = cont + "<td>"}
				preStr = "<input type='text' class='hide' name='" 
					+ j + "' value='" +ros[i][j] + "' ";

				cont = cont + preStr + ">";
				if(j=="sunId"){cont = cont + "</td>"}
			}else if(j!="userId" && j!="userName" &&j!="totalTime"){
		//		preStr = "<td><input type='button' class='btn " + color[strNum(ros[i][j])] + "' name='" + j + "' value='" +ros[i][j] 
		//			+ "' onclick='modalBtn=$(this)' data-toggle=\"modal\" data-target=\"#myModal\" ";
				preStr = "<td><input type='button' class='btn " + color[strNum(ros[i][j])] + "' name='" + j + "' value='" +ros[i][j] 
				+ "' onclick='modalBtn=$(this)' ";
				cont = cont + preStr + "></td>";
			}else{
				preStr = "<td><input type='button' class='btn' name='" + j + "' value='" +ros[i][j] + "' ";
				cont = cont + preStr + "></td>";
			}
		}
	
		cont = cont + "</tr>";

	}
	tbody.html(cont);
}

function setModal(){
	var res= getJson("/admin/loadShiftType");
	var cont = "";
	for(i in res){
		cont = cont + "<button class='btn btn-block " + "" + color[strNum(res[i].name)]
			+ "' onclick=\" changeShift('" + res[i].id + "','" + res[i].name + "','"
			+ color[strNum(res[i].name)] + "') \">" + res[i].name + "</button>";
	}
	$(".modal-body").html(cont);
}

function changeShift(id,name,color){
	var tr = modalBtn.parent().parent();
	var raw = modalBtn.attr("name");
	if(raw.indexOf("mon")>-1){
		tr.find(".hide").eq(0).attr("value",id);
	}else if(raw.indexOf("tue")>-1){
		tr.find(".hide").eq(1).attr("value",id);
	}else if(raw.indexOf("wed")>-1){
		tr.find(".hide").eq(2).attr("value",id);
	}else if(raw.indexOf("thu")>-1){
		tr.find(".hide").eq(3).attr("value",id);
	}else if(raw.indexOf("fri")>-1){
		tr.find(".hide").eq(4).attr("value",id);
	}else if(raw.indexOf("sat")>-1){
		tr.find(".hide").eq(5).attr("value",id);
	}else if(raw.indexOf("sun")>-1){
		tr.find(".hide").eq(6).attr("value",id);
	}
	modalBtn.attr("value",name);
	modalBtn.attr("class","btn " + color);
	sendJson("/admin/updateNewRosterById/" + which ,jsonify(tr));
	window.location.href="roster.html";
}

function choose(whichRos){
	window.location.href="/admin/chooseRoster/" + whichRos;
}

function init(){
	recommend();
	generateRosters();
	loadNewRosterReport();
	showDemand('mon','recommend');
	showDemand('mon','shiftPrefMin');
	showDemand('mon','shiftPrefAvg');
	showDemand('mon','workTimeLong');
	showDemand('mon','workTimeShort');
	showDemand('mon','workdayPrefMin');
	showDemand('mon','workdayPrefAvg');
	showHead();
	fillRoster();
	setModal();
}

</script>
</head>
<body>
<a id="top"></a>
 <nav class="navbar navbar-default" role="navigation">
 	<div class="container-fluid">
 	<div class="navbar-header">
        <a class="navbar-brand" href="/admin/notice.html">NurseHub</a>
    </div>
    <div>
        <ul class="nav navbar-nav">
            <li><a href="notice.html">Notice</a></li>
            <li><a href="strategy.html">Strategy</a></li>
            <li class="active"><a href="roster.html">Roster</a></li>
            <li><a href="approval.html">Approval</a></li>
            <li><a href="staff.html">Staff</a></li>
        </ul>
    </div>
    <div style="text-align:right">
    	<p id="welcome"></p>
    	<a href="/login/quit">quit</a>
    </div>
	</div>
 </nav>
 
 <div class="row">
	<div class="col-xs-2 col-md-1">
		<ul class="nav nav-pills nav-stacked"  data-toggle="buttons">
			<li><a href="#" onclick="recommend()">Recommend Most</a></li>
			<li><a href="#" onclick="shiftPrefMin()">Min ShiftPref First</a></li>
			<li><a href="#" onclick="shiftPrefAvg()">Avg ShiftPref First</a></li>
			<li><a href="#" onclick="workTimeLong()">Long WorkTime First</a></li>
			<li><a href="#" onclick="workTimeShort()">Short WorkTime First</a></li>
			<li><a href="#" onclick="workdayPrefMin()">Min WorkdayPref First</a></li>
			<li><a href="#" onclick="workdayPrefAvg()">Avg WorkdayPref First</a></li>
			<li><a href="#" onclick="window.location.href='roster.html'">Return</a></li>
		</ul>
	</div>
	
	<!--  recommend -->
	<div class="col-xs-10 col-md-11">
	<div id="recommend" class="recommend">
		<div class="panel panel-primary">
		    
		    <div class="panel-heading">
		        <h3 class="panel-title">Recommend Most Report</h3>
		    </div>
		    <div class="panel-body">
		    
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('recommend')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','recommend')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','recommend')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','recommend')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','recommend')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','recommend')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','recommend')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','recommend')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-success">
		    <div class="panel-heading">
		        <h3 class="panel-title">Recommend Most Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbThisWeek" class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="recTbody"></tbody>
				</table>
		    </div>
		</div>
	</div>
	
	
	<!-- shiftPrefMin -->
	
	<div id="shiftPrefMin" class="shiftPrefMin">
		<div class="panel panel-info">
		    <div class="panel-heading">
		        <h3 class="panel-title">Min ShiftPre First Report</h3>
		    </div>
		    <div class="panel-body">
		    	
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('shiftPrefMin')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','shiftPrefMin')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','shiftPrefMin')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','shiftPrefMin')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','shiftPrefMin')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','shiftPrefMin')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','shiftPrefMin')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','shiftPrefMin')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-warning" >
			
		    <div class="panel-heading">
		        <h3 class="panel-title">Min ShiftPre First Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbNextWeek"  class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="spmTbody"> </tbody>
				</table>
		    </div>
		</div>
		
		
	</div>
		
		
	<!-- shiftPrefAvg -->
	
	<div id="shiftPrefAvg" class="shiftPrefAvg">
		<div class="panel panel-success">
		    <div class="panel-heading">
		        <h3 class="panel-title">Avg ShiftPref First Report</h3>
		    </div>
		    <div class="panel-body">
		    	
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('shiftPrefAvg')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','shiftPrefAvg')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','shiftPrefAvg')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','shiftPrefAvg')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','shiftPrefAvg')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','shiftPrefAvg')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','shiftPrefAvg')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','shiftPrefAvg')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-danger" >
			
		    <div class="panel-heading">
		        <h3 class="panel-title">Avg ShiftPref First Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbNextWeek"  class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="spaTbody"> </tbody>
				</table>
		    </div>
		</div>
		
		
	</div>
		
		<!-- workTimeLong -->
	
	<div id="workTimeLong" class="workTimeLong">
		<div class="panel panel-warning">
		    <div class="panel-heading">
		        <h3 class="panel-title">Long WorkTime First Report</h3>
		    </div>
		    <div class="panel-body">
		    	
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('workTimeLong')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','workTimeLong')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','workTimeLong')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','workTimeLong')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','workTimeLong')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','workTimeLong')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','workTimeLong')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','workTimeLong')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-primary" >
			
		    <div class="panel-heading">
		        <h3 class="panel-title">Long WorkTime First Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbNextWeek"  class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="wtlTbody"> </tbody>
				</table>
		    </div>
		</div>
	</div>
		
	<!-- workTimeShort -->
	
	<div id="workTimeShort" class="workTimeShort">
		<div class="panel panel-danger">
		    <div class="panel-heading">
		        <h3 class="panel-title">Short WorkTime First Report</h3>
		    </div>
		    <div class="panel-body">
		    	
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('workTimeShort')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','workTimeShort')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','workTimeShort')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','workTimeShort')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','workTimeShort')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','workTimeShort')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','workTimeShort')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','workTimeShort')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-info" >
			
		    <div class="panel-heading">
		        <h3 class="panel-title">Short WorkTime First Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbNextWeek"  class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="wtsTbody"> </tbody>
				</table>
		    </div>
		</div>
	</div>
	
	
	<!-- workdayPrefMin -->
	
	<div id="workdayPrefMin" class="workdayPrefMin">
		<div class="panel panel-primary">
		    <div class="panel-heading">
		        <h3 class="panel-title">Min WorkdayPref First Report</h3>
		    </div>
		    <div class="panel-body">
		    	
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('workdayPrefMin')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','workdayPrefMin')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','workdayPrefMin')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','workdayPrefMin')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','workdayPrefMin')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','workdayPrefMin')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','workdayPrefMin')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','workdayPrefMin')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-success" >
			
		    <div class="panel-heading">
		        <h3 class="panel-title">Min WorkdayPref First Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbNextWeek"  class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="wpmTbody"> </tbody>
				</table>
		    </div>
		</div>
	</div>
	
	
	<!-- workdayPrefAvg -->
	
	<div id="workdayPrefAvg" class="workdayPrefAvg">
		<div class="panel panel-info">
		    <div class="panel-heading">
		        <h3 class="panel-title">Avg WorkdayPref First Report</h3>
		    </div>
		    <div class="panel-body">
		    	
		    	<table class="table">
				  <caption>
				  	<div class="compScore">Comprehensive Score:</div>
				  	<div>
				  		<span class="timeLimitOk">Time Limit Ok:</span>
				  		<span class="demandOk">Demand Ok:</span>
				  	</div>
				  	<div><button class="btn btn-success" onclick="choose('workdayPrefAvg')">USE THIS ROSTER</button></div>
				  </caption>
				  <thead>
				    <tr>
				      <th></th>
				      <th>Min</th>
				      <th>Avg</th>
				      <th>Max</th>
				    </tr>
				  </thead>
				  <tbody >
				    <tr class="success">
				      <td>ShiftPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="warning">
				      <td>WorkTime(h)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				    <tr class="danger">
				      <td>WorkdayPref(5)</td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				      <td class="prefTd"></td>
				    </tr>
				</tbody>
				</table>
				
				<ol class="breadcrumb">
					<li>Demands</li>
				    <li><a href="#" onclick="showDemand('mon','workdayPrefAvg')">mon</a></li>
				    <li><a href="#" onclick="showDemand('tue','workdayPrefAvg')">tue</a></li>
				    <li><a href="#" onclick="showDemand('wed','workdayPrefAvg')">wed</a></li>
					<li><a href="#" onclick="showDemand('thu','workdayPrefAvg')">thu</a></li>
					<li><a href="#" onclick="showDemand('fri','workdayPrefAvg')">fri</a></li>
					<li><a href="#" onclick="showDemand('sat','workdayPrefAvg')">sat</a></li>
					<li><a href="#" onclick="showDemand('sun','workdayPrefAvg')">sun</a></li>
				</ol>
				
				<table class="table table-striped">
				  <thead>
				  <tr>
				  	<th>ID</th>
				  	<th>Name</th>
				  	<th>LV1</th>
				  	<th>LV2</th>
				  	<th>LV3</th>
				  	<th>LV4</th>
				  	<th>LV5</th>
				  	<th></th>
				  </tr>
				  </thead>
				  <tbody class="mon demand" ></tbody>
				  <tbody class="tue demand" ></tbody>
				  <tbody class="wed demand" ></tbody>
				  <tbody class="thu demand" ></tbody>
				  <tbody class="fri demand" ></tbody>
				  <tbody class="sat demand" ></tbody>
				  <tbody class="sun demand" ></tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-warning" >
			
		    <div class="panel-heading">
		        <h3 class="panel-title">Avg WorkdayPref First Roster</h3>
		    </div>
		    <div class="panel-body">
		    	<table id="tbNextWeek"  class="table table-striped">
				  <thead>
				    <tr>
				      <th>UserID</th>
				      <th>UserName</th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th class="day"></th>
				      <th>Hours</th>
				    </tr>
				  </thead>
				  <tbody id="wpaTbody"> </tbody>
				</table>
		    </div>
		</div>
	</div>
	
	

	<!-- end -->	
	
	</div>
	
	<!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	            </div>
	            <div class="modal-body"></div>
	        </div><!-- /.modal-content -->
	    </div><!-- /.modal -->
	</div>
</div>
<div style="text-align:right"><button class="btn btn-primary" onclick="window.location.hash='#top'">TOP</button></div>

<script>
init();
$("#welcome").text("welcome " + checkLogin() );
</script>
			
</body>
</html>