<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="../js/header.js"></script>
<script src="../js/util.js"></script>
<title>NurseHub</title>

<script>
function loadShiftType(){
	var res="";
	$.ajax({
        type:"POST",
        url:"/admin/loadShiftType/",
        dataType:"json",
        contentType:"application/json",
        async: false,
        cache:false,
        success:function(data){
        	res = data;
        }
	});
	
	var cont = "";
	for(i in res){
		cont = cont + "<tr>";
		for(j in res[i]){
			cont = cont + "<td>" +res[i][j] + "</td>";
		}
		var edit = 'onclick="editShiftType(\'' + res[i].name + '\')"';
		var drop = 'onclick="dropShiftType(\'' + res[i].name + '\')"';
		cont = cont + "<td style=\"text-align:right\">"
      		+ "<button class=\"btn btn-primary\" " + edit +">Edit</button>"
      		+ "<button class=\"btn btn-danger\" " + drop +">Drop</button>"
     	 	+ "</td></tr>"
	}
	$("#shiftType").html(cont);
}

function editShiftType(name){
	window.location.href="/admin/editShiftType.html?name="+name;
}

function dropShiftType(name){
	alert(name);
}

</script>

</head>
<body>

<!-- nav -->
 <nav class="navbar navbar-default" role="navigation">
 	<div class="container-fluid">
 	<div class="navbar-header">
        <a class="navbar-brand" href="/admin/notice.html">NurseHub</a>
    </div>
    <div>
        <ul class="nav navbar-nav">
            <li ><a href="notice.html">Notice</a></li>
            <li class="active"><a href="strategy.html">Strategy</a></li>
            <li><a href="roster.html">Roster</a></li>
            <li><a href="approval.html">Approval</a></li>
        </ul>
    </div>
    <div style="text-align:right">
    	<p id="welcome"></p>
    	<a href="/login/quit">quit</a>
    </div>
	</div>
 </nav>
 

 <div class="row">
  	<!-- mark nav -->
	<div class="col-xs-2">
		<ul class="nav nav-pills nav-stacked" data-toggle="buttons">
			<li><a href="#shiftTypeMark" >Shift Type</a></li>
			<li><a href="#shiftRuleMark" >Shift Rule</a></li>
			<li><a href="#shiftDemandMark" >Shift Demand</a></li>
			<li><a href="#timeLimitMark" >Time Limit</a></li>
		</ul>
	</div>
	
	<div class="col-xs-10">
		<div class="panel panel-primary">
		    <a name="shiftTypeMark"></a>
		    <div class="panel-heading">
		        <h3 class="panel-title">Shift Type</h3>
		    </div>
		    <div class="panel-body">
		    	<table class="table table-striped">
				  <caption><button class="btn btn-success" onclick="editShiftType('')">Add New Type</button></caption>
				  <tbody id="shiftType">
				  </tbody>
				</table>
		    </div>
		</div>
		
		<div class="panel panel-success" >
			<a name="shiftRuleMark"></a>
		    <div class="panel-heading">
		        <h3 class="panel-title">Shift Rule</h3>
		    </div>
		    <div class="panel-body">
		    	<p>Shift Rule</p>
		    </div>
		</div>
		
		<div class="panel panel-info">
		    <a name="shiftDemandMark"></a>
		    <div class="panel-heading">
		        <h3 class="panel-title">Shift Demand</h3>
		    </div>
		    <div class="panel-body">
		    	<p>Shift Demand</p>
		    </div>
		</div>
		
		<div class="panel panel-warning" >
			<a name="timeLimitMark"></a>
		    <div class="panel-heading">
		        <h3 class="panel-title">Time Limit</h3>
		    </div>
		    <div class="panel-body">
		    	<p>Time Limit</p>
		    </div>
		</div>
	</div>
</div>


<script>
//$("#welcome").text("welcome " + checkLogin() );
loadShiftType();
 </script>
</body>
</html>